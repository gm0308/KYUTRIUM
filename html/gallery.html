<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>atrium</title>
    <link rel="stylesheet" href="/css/gal_style.css">
    <link rel="stylesheet" href="/css/unity_style.css">
</head>
<body>
    <header>
        <div class="head" style="display: flex;">
            <a class="logo" href="/html/main.html">artrium</a>
            <ul class="nav">
                <li><a href="/html/main.html">Home</a></li>
                <span id="nav_liner"></span>
                <li><a href="/html/gallery.html">Gallery</a></li>
                <span id="nav_liner"></span>
                <li><a href="/html/about.html">About</a></li>
                <span id="nav_liner"></span>
                <li><a href="/html/suport.html">Support</a></li>
                <span id="nav_liner"></span>
                <li><a href="/html/contact.html">Contact</a></li>
                <span id="nav_liner"></span>
                <li><a href="/html/login.html">Log in</a></li>
                    <span>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                        
                    </span>
                </button>
            </ul>
        </div>
        <div class="visual">
            <div class="section">
                <input type="radio" name="slide" id="slide01">
                <input type="radio" name="slide" id="slide02">
                <input type="radio" name="slide" id="slide03">
                <div class="slidewrap">
                    <ul class="slidelist">
                        <label for="slide03" class="left l01"></label>
                        <label for="slide02" class="right r01"></label>
                        <label for="slide01" class="left l02"></label>
                        <label for="slide03" class="right r02"></label>
                        <label for="slide02" class="left l03"></label>
                        <label for="slide01" class="right r03"></label>
                        <li class="first_screen screen">
                            <a href="#">
                                <img
                                    src="/images/sob.png"
                                    alt="The sob">
                            </a>
                        </li>
                        <li class="second_screen screen">
                            <a href="#">
                                <img
                                    src="/images/KBS.png"
                                    alt="The KBS">
                            </a>
                        </li>
                        <li class="third_screen screen">
                            <a href="#">
                                <img
                                    src="/images/third.png"
                                    alt="The third">
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="container">
        <h1>전시 작품</h1>
        <div class="content">
            <div id="artworks">
                <img src="/images/falling_the_moon.png" alt="artwork_01">
                <h4>Falling The Moon</h4>
                <p>Night dancer is feel blue, but he know...</p>
            </div>
            <div id="artworks">
                <img src="/images/sob.png" alt="artwork_02">
                <h4>S.O.B</h4>
                <p>Son of b......</p>
            </div>
        </div>
        <div class="content">
            <div id="artworks">
                <img src="/images/sadcat.png" alt="artwork_03">
                <h4>Sad cat</h4>
                <p>This is banana ... in the sadly cat.</p>
            </div>
            <div id="artworks">
                <img src="/images/KBS.png" alt="artwork_04">
                <h4>KBS</h4>
                <p>Kyu is boong sin sakki!</p>
            </div>
        </div>
    </div>
    <footer>
    </footer>
</body>
</html>

<script type="text/javascript">

let xhttp = new XMLHttpRequest();

xhttp.onreadystatechange = function () {
	if(xhttp.readyState == 4 && xhttp.status == 200){
		jsonfunc(this.responseText); //this = xhttp
//		jsonfunc(xhttp.responseText); // 둘다 가능
	}
}
xhttp.open("GET","artworks.json", true);
xhttp.send();

function jsonfunc( jsonText ) {

	let json = JSON.parse(jsonText); // String -> json으로 변환
	
    let photo = [4];
    let title = [4];
    let explanation = [4];

	// 접근법 1
	for(i=0; i<json.length; i++){
		for(key in json[i]){ // key값 가져오기
			photo[i] = json.photo[key];
            title[i] = json.title[key];
            explanation[i] = json.explanation[key];
   
            document.getElementById('artworks').innerHTML = 
            '<img src="/images/' + photo[i] + '" alt="artwork" id="photo">'
            + '<h5 id="title">' + title[i] + '</h5>'
            + '<p id="explanation">' + explanation[i] + '</p>';
		}
	}
}
</script>



